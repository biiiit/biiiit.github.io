{"version":3,"sources":["lib/rain.js"],"names":["init","single","canvas1","document","getElementById","canvas2","canvas3","ctx1","getContext","ctx2","ctx3","RainTrough","rain","lightning","lightTimeCurrent","lightTimeTotal","w","width","window","innerWidth","h","height","innerHeight","random","min","max","Math","createRainTrough","i","x","y","length","floor","opacity","xs","ys","drawRainTrough","beginPath","grd","createLinearGradient","addColorStop","fillStyle","fillRect","fill","drawRain","moveTo","lineTo","l","strokeStyle","lineWidth","lineCap","stroke","animateRainTrough","clearRect","animateRain","animateLightning","globalCompositeOperation","createCount","xRange","yRange","path","pathLimit","push","createLightning","light","splice","pc","lineJoin","drawLightning","addEventListener","createRain","animloop","requestAnimationFrame"],"mappings":"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","file":"static/js/3.cbcbee89.chunk.js","sourcesContent":["export function init() {\r\n  var canvas1 = document.getElementById(\"canvas1\");\r\n  var canvas2 = document.getElementById(\"canvas2\");\r\n  var canvas3 = document.getElementById(\"canvas3\");\r\n  var ctx1 = canvas1.getContext(\"2d\");\r\n  var ctx2 = canvas2.getContext(\"2d\");\r\n  var ctx3 = canvas3.getContext(\"2d\");\r\n\r\n  var rainthroughnum = 500;\r\n  var speedRainTrough = 25;\r\n  var RainTrough = [];\r\n\r\n  var rainnum = 200;\r\n  var rain = [];\r\n\r\n  var lightning = [];\r\n  var lightTimeCurrent = 0;\r\n  var lightTimeTotal = 0;\r\n\r\n  var single;\r\n\r\n  var w = (canvas1.width = canvas2.width = canvas3.width = window.innerWidth);\r\n  var h =\r\n    (canvas1.height =\r\n    canvas2.height =\r\n    canvas3.height =\r\n      window.innerHeight);\r\n  window.addEventListener(\"resize\", function () {\r\n    w = canvas1.width = canvas2.width = canvas3.width = window.innerWidth;\r\n    h = canvas1.height = canvas2.height = canvas3.height = window.innerHeight;\r\n  });\r\n\r\n  function random(min, max) {\r\n    return Math.random() * (max - min + 1) + min;\r\n  }\r\n\r\n  function clearcanvas1() {\r\n    ctx1.clearRect(0, 0, w, h);\r\n  }\r\n\r\n  function clearcanvas2() {\r\n    ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\r\n  }\r\n\r\n  function clearCanvas3() {\r\n    ctx3.globalCompositeOperation = \"destination-out\";\r\n    ctx3.fillStyle = \"rgba(0,0,0,\" + random(1, 30) / 100 + \")\";\r\n    ctx3.fillRect(0, 0, w, h);\r\n    ctx3.globalCompositeOperation = \"source-over\";\r\n  }\r\n\r\n  function createRainTrough() {\r\n    for (var i = 0; i < rainthroughnum; i++) {\r\n      RainTrough[i] = {\r\n        x: random(0, w),\r\n        y: random(0, h),\r\n        length: Math.floor(random(1, 830)),\r\n        opacity: Math.random() * 0.2,\r\n        xs: random(-2, 2),\r\n        ys: random(10, 20),\r\n      };\r\n    }\r\n  }\r\n\r\n  function createRain() {\r\n    for (var i = 0; i < rainnum; i++) {\r\n      rain[i] = {\r\n        x: Math.random() * w,\r\n        y: Math.random() * h,\r\n        l: Math.random() * 1,\r\n        xs: -4 + Math.random() * 4 + 2,\r\n        ys: Math.random() * 10 + 10,\r\n      };\r\n    }\r\n  }\r\n\r\n  function createLightning() {\r\n    var x = random(100, w - 100);\r\n    var y = random(0, h / 4);\r\n    var createCount = random(1, 3);\r\n    for (var i = 0; i < createCount; i++) {\r\n      single = {\r\n        x: x,\r\n        y: y,\r\n        xRange: random(5, 30),\r\n        yRange: random(10, 25),\r\n        path: [\r\n          {\r\n            x: x,\r\n            y: y,\r\n          },\r\n        ],\r\n        pathLimit: random(40, 55),\r\n      };\r\n      lightning.push(single);\r\n    }\r\n  }\r\n\r\n  function drawRainTrough(i) {\r\n    ctx1.beginPath();\r\n    var grd = ctx1.createLinearGradient(\r\n      0,\r\n      RainTrough[i].y,\r\n      0,\r\n      RainTrough[i].y + RainTrough[i].length\r\n    );\r\n    grd.addColorStop(0, \"rgba(255,255,255,0)\");\r\n    grd.addColorStop(1, \"rgba(255,255,255,\" + RainTrough[i].opacity + \")\");\r\n\r\n    ctx1.fillStyle = grd;\r\n    ctx1.fillRect(RainTrough[i].x, RainTrough[i].y, 1, RainTrough[i].length);\r\n    ctx1.fill();\r\n  }\r\n\r\n  function drawRain(i) {\r\n    ctx2.beginPath();\r\n    ctx2.moveTo(rain[i].x, rain[i].y);\r\n    ctx2.lineTo(\r\n      rain[i].x + rain[i].l * rain[i].xs,\r\n      rain[i].y + rain[i].l * rain[i].ys\r\n    );\r\n    ctx2.strokeStyle = \"rgba(174,194,224,0.5)\";\r\n    ctx2.lineWidth = 1;\r\n    ctx2.lineCap = \"round\";\r\n    ctx2.stroke();\r\n  }\r\n\r\n  function drawLightning() {\r\n    for (var i = 0; i < lightning.length; i++) {\r\n      var light = lightning[i];\r\n\r\n      light.path.push({\r\n        x:\r\n          light.path[light.path.length - 1].x +\r\n          (random(0, light.xRange) - light.xRange / 2),\r\n        y: light.path[light.path.length - 1].y + random(0, light.yRange),\r\n      });\r\n\r\n      if (light.path.length > light.pathLimit) {\r\n        lightning.splice(i, 1);\r\n      }\r\n\r\n      ctx3.strokeStyle = \"rgba(255, 255, 255, .1)\";\r\n      ctx3.lineWidth = 3;\r\n      if (random(0, 15) === 0) {\r\n        ctx3.lineWidth = 6;\r\n      }\r\n      if (random(0, 30) === 0) {\r\n        ctx3.lineWidth = 8;\r\n      }\r\n\r\n      ctx3.beginPath();\r\n      ctx3.moveTo(light.x, light.y);\r\n      for (var pc = 0; pc < light.path.length; pc++) {\r\n        ctx3.lineTo(light.path[pc].x, light.path[pc].y);\r\n      }\r\n      if (Math.floor(random(0, 30)) === 1) {\r\n        //to fos apo piso\r\n        ctx3.fillStyle = \"rgba(255, 255, 255, \" + random(1, 3) / 100 + \")\";\r\n        ctx3.fillRect(0, 0, w, h);\r\n      }\r\n      ctx3.lineJoin = \"miter\";\r\n      ctx3.stroke();\r\n    }\r\n  }\r\n\r\n  function animateRainTrough() {\r\n    clearcanvas1();\r\n    for (var i = 0; i < rainthroughnum; i++) {\r\n      if (RainTrough[i].y >= h) {\r\n        RainTrough[i].y = h - RainTrough[i].y - RainTrough[i].length * 5;\r\n      } else {\r\n        RainTrough[i].y += speedRainTrough;\r\n      }\r\n      drawRainTrough(i);\r\n    }\r\n  }\r\n\r\n  function animateRain() {\r\n    clearcanvas2();\r\n    for (var i = 0; i < rainnum; i++) {\r\n      rain[i].x += rain[i].xs;\r\n      rain[i].y += rain[i].ys;\r\n      if (rain[i].x > w || rain[i].y > h) {\r\n        rain[i].x = Math.random() * w;\r\n        rain[i].y = -20;\r\n      }\r\n      drawRain(i);\r\n    }\r\n  }\r\n\r\n  function animateLightning() {\r\n    clearCanvas3();\r\n    lightTimeCurrent++;\r\n    if (lightTimeCurrent >= lightTimeTotal) {\r\n      createLightning();\r\n      lightTimeCurrent = 0;\r\n      lightTimeTotal = 200; //rand(100, 200)\r\n    }\r\n    drawLightning();\r\n  }\r\n\r\n  function init() {\r\n    createRainTrough();\r\n    createRain();\r\n    window.addEventListener(\"resize\", createRainTrough);\r\n  }\r\n  init();\r\n\r\n  function animloop() {\r\n    animateRainTrough();\r\n    animateRain();\r\n    animateLightning();\r\n    requestAnimationFrame(animloop);\r\n  }\r\n  animloop();\r\n}\r\n"],"sourceRoot":""}